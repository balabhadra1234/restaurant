<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Hunger - Restaurant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        :root {
            --primary: #ff6b6b;
            --secondary: #4ecdc4;
            --dark: #292f36;
            --light: #f7fff7;
            --accent: #ffd166;
            --gray: #e0e0e0;
            --success: #06d6a0;
            --warning: #ffd166;
            --danger: #ef476f;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header Styles */
        header {
            background-color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        .restaurant-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .restaurant-name {
            font-weight: 600;
            font-size: 18px;
        }
        
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-approved {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-rejected {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
        }
        
        /* Auth Styles */
        .auth-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        .auth-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--gray);
        }
        
        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .auth-tab.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--gray);
            border-radius: 8px;
            font-size: 16px;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }
        
        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }
        
        .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background-color: #ff5252;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: #3dbeb6;
        }
        
        .btn-success {
            background-color: var(--success);
        }
        
        .btn-success:hover {
            background-color: #05c291;
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: var(--dark);
        }
        
        .btn-warning:hover {
            background-color: #ffc94d;
        }
        
        .btn-danger {
            background-color: var(--danger);
        }
        
        .btn-danger:hover {
            background-color: #ed2e5a;
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background-color: rgba(255, 107, 107, 0.1);
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }
        
        /* Main Content Styles */
        .main-content {
            display: none;
        }
        
        /* Tabs Navigation */
        .tabs-nav {
            display: flex;
            background-color: white;
            border-bottom: 1px solid var(--gray);
            overflow-x: auto;
        }
        
        .tab {
            padding: 15px 20px;
            cursor: pointer;
            font-weight: 500;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
            padding: 30px 0;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        
        .stat-info h3 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-info p {
            color: #666;
            font-size: 14px;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        /* Orders Styles */
        .orders-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .order-card {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-left: 4px solid var(--primary);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .order-id {
            font-weight: 600;
            font-size: 18px;
        }
        
        .order-status {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-placed {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-accepted {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .status-preparing {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .status-ready {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .order-details {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .order-items {
            color: #666;
        }
        
        .order-customer {
            font-weight: 500;
        }
        
        .order-total {
            font-weight: 600;
            color: var(--primary);
            text-align: right;
        }
        
        .order-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        /* Menu Styles */
        .menu-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .menu-item-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }
        
        .menu-item-card:hover {
            transform: translateY(-5px);
        }
        
        .menu-item-image {
            height: 180px;
            background-color: var(--gray);
            background-size: cover;
            background-position: center;
        }
        
        .menu-item-content {
            padding: 20px;
        }
        
        .menu-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .menu-item-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .menu-item-price {
            font-weight: 600;
            color: var(--primary);
            font-size: 18px;
        }
        
        .menu-item-description {
            color: #666;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .menu-item-actions {
            display: flex;
            gap: 10px;
        }
        
        .availability-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--success);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        /* Profile Styles */
        .profile-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
        }
        
        .profile-info h2 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .profile-info p {
            color: #666;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        /* Reports Styles */
        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .report-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .report-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
        }
        
        .report-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .report-change {
            font-size: 14px;
            color: #666;
        }
        
        .change-positive {
            color: var(--success);
        }
        
        .change-negative {
            color: var(--danger);
        }
        
        .sales-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .sales-table th, .sales-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .sales-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #555;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 15px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        /* Toast */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--dark);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 1000;
            display: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .toast.active {
            display: block;
            animation: fadeInOut 3s forwards;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(20px); }
            10% { opacity: 1; transform: translateY(0); }
            90% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(20px); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .order-details {
                grid-template-columns: 1fr;
            }
            
            .order-actions {
                justify-content: flex-start;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .menu-items {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .restaurant-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Authentication Section -->
    <div class="auth-container" id="authContainer">
        <div class="auth-card">
            <div class="auth-tabs">
                <div class="auth-tab active" id="loginTab">Login</div>
                <div class="auth-tab" id="signupTab">Sign Up</div>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="btn">Login</button>
            </form>
            
            <form id="signupForm" style="display: none;">
                <div class="form-group">
                    <label for="signupName">Restaurant Name</label>
                    <input type="text" id="signupName" class="form-control" placeholder="Enter restaurant name" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" class="form-control" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="signupPhone">Phone</label>
                    <input type="tel" id="signupPhone" class="form-control" placeholder="Enter restaurant phone" required>
                </div>
                <div class="form-group">
                    <label for="signupAddress">Address</label>
                    <textarea id="signupAddress" class="form-control" placeholder="Enter restaurant address" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="signupCuisine">Cuisine Type</label>
                    <input type="text" id="signupCuisine" class="form-control" placeholder="e.g., Italian, Chinese, Indian" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="signupOpening">Opening Time</label>
                        <input type="time" id="signupOpening" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="signupClosing">Closing Time</label>
                        <input type="time" id="signupClosing" class="form-control" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" class="form-control" placeholder="Create a password" required>
                </div>
                <button type="submit" class="btn">Sign Up</button>
                <p style="margin-top: 15px; font-size: 14px; color: #666; text-align: center;">
                    Your account will be reviewed by admin before activation
                </p>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent" style="display: none;">
        <!-- Header -->
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">Food <span>Hunger</span></div>
                    <div class="restaurant-info">
                        <div class="restaurant-name" id="restaurantName">Restaurant Name</div>
                        <div class="status-badge status-pending" id="restaurantStatus">Pending Approval</div>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-outline btn-sm" id="logoutBtn">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Tabs Navigation -->
        <div class="tabs-nav">
            <div class="container">
                <div class="tab active" data-tab="dashboard">Dashboard</div>
                <div class="tab" data-tab="orders">Orders</div>
                <div class="tab" data-tab="menu">Menu</div>
                <div class="tab" data-tab="reports">Reports</div>
                <div class="tab" data-tab="profile">Profile</div>
            </div>
        </div>

        <!-- Content -->
        <div class="container">
            <!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboardTab">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: var(--primary);">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayOrders">0</h3>
                            <p>Today's Orders</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: var(--success);">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayRevenue">$0</h3>
                            <p>Today's Revenue</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: var(--secondary);">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalMenuItems">0</h3>
                            <p>Menu Items</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: var(--warning);">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="averageRating">0.0</h3>
                            <p>Average Rating</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Recent Orders</h2>
                        <button class="btn btn-sm" onclick="showTab('orders')">View All</button>
                    </div>
                    <div class="orders-list" id="recentOrdersList">
                        <!-- Recent orders will be populated by JavaScript -->
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Popular Items</h2>
                    </div>
                    <div class="menu-items" id="popularItems">
                        <!-- Popular items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Orders Tab -->
            <div class="tab-content" id="ordersTab">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Order Management</h2>
                        <div>
                            <select id="orderFilter" class="form-control" style="display: inline-block; width: auto;">
                                <option value="all">All Orders</option>
                                <option value="placed">Placed</option>
                                <option value="accepted">Accepted</option>
                                <option value="preparing">Preparing</option>
                                <option value="ready">Ready</option>
                            </select>
                        </div>
                    </div>
                    <div class="orders-list" id="ordersList">
                        <!-- Orders will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Menu Tab -->
            <div class="tab-content" id="menuTab">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Menu Management</h2>
                        <button class="btn btn-sm" id="addMenuItemBtn">Add Item</button>
                    </div>
                    <div class="menu-items" id="menuItemsList">
                        <!-- Menu items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div class="tab-content" id="reportsTab">
                <div class="reports-grid">
                    <div class="report-card">
                        <div class="report-title">Total Orders</div>
                        <div class="report-value" id="totalOrders">0</div>
                        <div class="report-change change-positive" id="ordersChange">+0% from last week</div>
                    </div>
                    <div class="report-card">
                        <div class="report-title">Total Revenue</div>
                        <div class="report-value" id="totalRevenue">$0</div>
                        <div class="report-change change-positive" id="revenueChange">+0% from last week</div>
                    </div>
                    <div class="report-card">
                        <div class="report-title">Average Order Value</div>
                        <div class="report-value" id="avgOrderValue">$0</div>
                        <div class="report-change change-positive" id="aovChange">+0% from last week</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Sales History</h2>
                        <div>
                            <select id="reportPeriod" class="form-control" style="display: inline-block; width: auto;">
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                                <option value="quarter">This Quarter</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="sales-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Orders</th>
                                    <th>Revenue</th>
                                    <th>COD Revenue</th>
                                    <th>Online Revenue</th>
                                </tr>
                            </thead>
                            <tbody id="salesHistory">
                                <!-- Sales history will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Profile Tab -->
            <div class="tab-content" id="profileTab">
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profileAvatar">R</div>
                        <div class="profile-info">
                            <h2 id="profileRestaurantName">Restaurant Name</h2>
                            <p id="profileCuisine">Cuisine Type</p>
                            <div class="status-badge status-pending" id="profileStatus">Pending Approval</div>
                        </div>
                    </div>
                    
                    <form id="profileForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileName">Restaurant Name</label>
                                <input type="text" id="profileName" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="profileCuisineInput">Cuisine Type</label>
                                <input type="text" id="profileCuisineInput" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileEmail">Email</label>
                                <input type="email" id="profileEmail" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="profilePhone">Phone</label>
                                <input type="tel" id="profilePhone" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="profileAddress">Address</label>
                            <textarea id="profileAddress" class="form-control" rows="3" required></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileOpening">Opening Time</label>
                                <input type="time" id="profileOpening" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="profileClosing">Closing Time</label>
                                <input type="time" id="profileClosing" class="form-control" required>
                            </div>
                        </div>
                        <button type="submit" class="btn">Update Profile</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Menu Item Modal -->
    <div class="modal" id="addMenuItemModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Menu Item</h3>
                <button class="modal-close" id="closeMenuItemModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addMenuItemForm">
                    <div class="form-group">
                        <label for="itemName">Item Name</label>
                        <input type="text" id="itemName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="itemDescription">Description</label>
                        <textarea id="itemDescription" class="form-control" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="itemPrice">Price ($)</label>
                        <input type="number" id="itemPrice" class="form-control" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="itemImage">Image URL</label>
                        <input type="url" id="itemImage" class="form-control" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="availability-toggle">
                        <label for="itemAvailable">Available</label>
                        <label class="switch">
                            <input type="checkbox" id="itemAvailable" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <button type="submit" class="btn">Add Item</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDummyAPIKeyForExampleOnly",
            authDomain: "food-hunger-app.firebaseapp.com",
            databaseURL: "https://food-hunger-app-default-rtdb.firebaseio.com",
            projectId: "food-hunger-app",
            storageBucket: "food-hunger-app.appspot.com",
            messagingSenderId: "1234567890",
            appId: "1:1234567890:web:abcdef123456"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();

        // DOM Elements
        const authContainer = document.getElementById('authContainer');
        const mainContent = document.getElementById('mainContent');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const loginTab = document.getElementById('loginTab');
        const signupTab = document.getElementById('signupTab');
        const profileForm = document.getElementById('profileForm');
        const logoutBtn = document.getElementById('logoutBtn');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const addMenuItemBtn = document.getElementById('addMenuItemBtn');
        const addMenuItemModal = document.getElementById('addMenuItemModal');
        const closeMenuItemModal = document.getElementById('closeMenuItemModal');
        const addMenuItemForm = document.getElementById('addMenuItemForm');
        const toast = document.getElementById('toast');

        // App State
        let currentUser = null;
        let currentRestaurant = null;
        let menuItems = [];
        let orders = [];

        // Event Listeners
        document.addEventListener('DOMContentLoaded', initApp);

        loginTab.addEventListener('click', () => switchAuthTab('login'));
        signupTab.addEventListener('click', () => switchAuthTab('signup'));
        loginForm.addEventListener('submit', handleLogin);
        signupForm.addEventListener('submit', handleSignup);
        profileForm.addEventListener('submit', updateProfile);
        logoutBtn.addEventListener('click', handleLogout);
        addMenuItemBtn.addEventListener('click', openAddMenuItemModal);
        closeMenuItemModal.addEventListener('click', closeAddMenuItemModal);
        addMenuItemForm.addEventListener('submit', addMenuItem);

        // Tabs
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                showTab(tabId);
            });
        });

        // Initialize App
        function initApp() {
            auth.onAuthStateChanged(user => {
                if (user) {
                    currentUser = user;
                    loadRestaurantData(user.uid);
                    authContainer.style.display = 'none';
                    mainContent.style.display = 'block';
                } else {
                    currentUser = null;
                    authContainer.style.display = 'flex';
                    mainContent.style.display = 'none';
                }
            });
        }

        // Auth Functions
        function switchAuthTab(tab) {
            if (tab === 'login') {
                loginTab.classList.add('active');
                signupTab.classList.remove('active');
                loginForm.style.display = 'block';
                signupForm.style.display = 'none';
            } else {
                loginTab.classList.remove('active');
                signupTab.classList.add('active');
                loginForm.style.display = 'none';
                signupForm.style.display = 'block';
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    showToast('Login successful!');
                })
                .catch((error) => {
                    showToast(error.message, 'error');
                });
        }

        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const address = document.getElementById('signupAddress').value;
            const cuisine = document.getElementById('signupCuisine').value;
            const opening = document.getElementById('signupOpening').value;
            const closing = document.getElementById('signupClosing').value;
            const password = document.getElementById('signupPassword').value;
            
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    
                    // Create restaurant record in database
                    return database.ref('restaurants/' + user.uid).set({
                        name: name,
                        email: email,
                        phone: phone,
                        address: address,
                        cuisine: cuisine,
                        openingTime: opening,
                        closingTime: closing,
                        approved: false,
                        createdAt: new Date().toISOString()
                    });
                })
                .then(() => {
                    showToast('Restaurant account created! Waiting for admin approval.');
                    switchAuthTab('login');
                })
                .catch((error) => {
                    showToast(error.message, 'error');
                });
        }

        function handleLogout() {
            auth.signOut()
                .then(() => {
                    showToast('Logged out successfully');
                })
                .catch((error) => {
                    showToast(error.message, 'error');
                });
        }

        // Restaurant Data Functions
        function loadRestaurantData(uid) {
            database.ref('restaurants/' + uid).once('value')
                .then(snapshot => {
                    const restaurantData = snapshot.val();
                    if (restaurantData) {
                        currentRestaurant = restaurantData;
                        currentRestaurant.uid = uid;
                        
                        // Update UI with restaurant data
                        document.getElementById('restaurantName').textContent = restaurantData.name;
                        document.getElementById('profileRestaurantName').textContent = restaurantData.name;
                        document.getElementById('profileCuisine').textContent = restaurantData.cuisine;
                        document.getElementById('profileAvatar').textContent = restaurantData.name.charAt(0).toUpperCase();
                        
                        // Update status
                        const status = restaurantData.approved ? 'approved' : 'pending';
                        const statusElements = document.querySelectorAll('#restaurantStatus, #profileStatus');
                        statusElements.forEach(el => {
                            el.textContent = status === 'approved' ? 'Approved' : 'Pending Approval';
                            el.className = `status-badge status-${status}`;
                        });
                        
                        // Update profile form
                        document.getElementById('profileName').value = restaurantData.name;
                        document.getElementById('profileCuisineInput').value = restaurantData.cuisine;
                        document.getElementById('profileEmail').value = restaurantData.email;
                        document.getElementById('profilePhone').value = restaurantData.phone;
                        document.getElementById('profileAddress').value = restaurantData.address;
                        document.getElementById('profileOpening').value = restaurantData.openingTime;
                        document.getElementById('profileClosing').value = restaurantData.closingTime;
                        
                        // Load restaurant-specific data
                        loadMenuItems(uid);
                        loadOrders(uid);
                        loadDashboardData();
                    }
                });
        }

        function updateProfile(e) {
            e.preventDefault();
            const name = document.getElementById('profileName').value;
            const cuisine = document.getElementById('profileCuisineInput').value;
            const email = document.getElementById('profileEmail').value;
            const phone = document.getElementById('profilePhone').value;
            const address = document.getElementById('profileAddress').value;
            const opening = document.getElementById('profileOpening').value;
            const closing = document.getElementById('profileClosing').value;
            
            database.ref('restaurants/' + currentUser.uid).update({
                name: name,
                cuisine: cuisine,
                email: email,
                phone: phone,
                address: address,
                openingTime: opening,
                closingTime: closing
            })
            .then(() => {
                document.getElementById('restaurantName').textContent = name;
                document.getElementById('profileRestaurantName').textContent = name;
                document.getElementById('profileCuisine').textContent = cuisine;
                document.getElementById('profileAvatar').textContent = name.charAt(0).toUpperCase();
                showToast('Profile updated successfully!');
            })
            .catch(error => {
                showToast(error.message, 'error');
            });
        }

        // Menu Management Functions
        function loadMenuItems(restaurantId) {
            // In a real app, this would fetch from Firebase
            // For demo purposes, we're using mock data
            menuItems = [
                {
                    id: 'item1',
                    name: 'Margherita Pizza',
                    description: 'Classic pizza with tomato sauce and mozzarella',
                    price: 12.99,
                    image: 'https://images.unsplash.com/photo-1604068549290-dea0e4a305ca?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                    available: true
                },
                {
                    id: 'item2',
                    name: 'Pepperoni Pizza',
                    description: 'Pizza with pepperoni and cheese',
                    price: 14.99,
                    image: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                    available: true
                },
                {
                    id: 'item3',
                    name: 'Garlic Bread',
                    description: 'Toasted bread with garlic butter',
                    price: 5.99,
                    image: 'https://images.unsplash.com/photo-1573140247632-f8fd74997d5c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                    available: false
                }
            ];
            
            renderMenuItems();
        }

        function renderMenuItems() {
            const menuItemsList = document.getElementById('menuItemsList');
            menuItemsList.innerHTML = '';
            
            if (menuItems.length === 0) {
                menuItemsList.innerHTML = '<p style="text-align: center; padding: 20px;">No menu items yet. Add your first item!</p>';
                return;
            }
            
            menuItems.forEach(item => {
                const menuItemCard = document.createElement('div');
                menuItemCard.className = 'menu-item-card';
                menuItemCard.innerHTML = `
                    <div class="menu-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="menu-item-content">
                        <div class="menu-item-header">
                            <div>
                                <div class="menu-item-name">${item.name}</div>
                                <div class="menu-item-description">${item.description}</div>
                            </div>
                            <div class="menu-item-price">$${item.price.toFixed(2)}</div>
                        </div>
                        <div class="availability-toggle">
                            <label for="available-${item.id}">Available</label>
                            <label class="switch">
                                <input type="checkbox" id="available-${item.id}" ${item.available ? 'checked' : ''}>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="menu-item-actions">
                            <button class="btn btn-warning btn-sm edit-item" data-id="${item.id}">Edit</button>
                            <button class="btn btn-danger btn-sm delete-item" data-id="${item.id}">Delete</button>
                        </div>
                    </div>
                `;
                
                menuItemsList.appendChild(menuItemCard);
                
                // Add event listener for availability toggle
                const toggle = document.getElementById(`available-${item.id}`);
                toggle.addEventListener('change', () => {
                    toggleItemAvailability(item.id, toggle.checked);
                });
                
                // Add event listeners for edit and delete buttons
                const editBtn = menuItemCard.querySelector('.edit-item');
                const deleteBtn = menuItemCard.querySelector('.delete-item');
                
                editBtn.addEventListener('click', () => editMenuItem(item.id));
                deleteBtn.addEventListener('click', () => deleteMenuItem(item.id));
            });
        }

        function openAddMenuItemModal() {
            addMenuItemModal.classList.add('active');
        }

        function closeAddMenuItemModal() {
            addMenuItemModal.classList.remove('active');
            addMenuItemForm.reset();
        }

        function addMenuItem(e) {
            e.preventDefault();
            const name = document.getElementById('itemName').value;
            const description = document.getElementById('itemDescription').value;
            const price = parseFloat(document.getElementById('itemPrice').value);
            const image = document.getElementById('itemImage').value || 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60';
            const available = document.getElementById('itemAvailable').checked;
            
            const newItem = {
                id: 'item_' + new Date().getTime(),
                name: name,
                description: description,
                price: price,
                image: image,
                available: available
            };
            
            // In a real app, this would save to Firebase
            // For demo, we'll just add to local state
            menuItems.push(newItem);
            renderMenuItems();
            
            closeAddMenuItemModal();
            showToast('Menu item added successfully!');
        }

        function toggleItemAvailability(itemId, available) {
            const item = menuItems.find(item => item.id === itemId);
            if (item) {
                item.available = available;
                showToast(`${item.name} is now ${available ? 'available' : 'unavailable'}`);
            }
        }

        function editMenuItem(itemId) {
            // In a real app, this would open an edit form
            showToast('Edit functionality would be implemented here');
        }

        function deleteMenuItem(itemId) {
            if (confirm('Are you sure you want to delete this menu item?')) {
                menuItems = menuItems.filter(item => item.id !== itemId);
                renderMenuItems();
                showToast('Menu item deleted');
            }
        }

        // Orders Functions
        function loadOrders(restaurantId) {
            // In a real app, this would fetch from Firebase
            // For demo purposes, we're using mock data
            orders = [
                {
                    id: 'ORD-001245',
                    customer: 'John Doe',
                    items: 'Margherita Pizza, Garlic Bread',
                    total: 18.98,
                    status: 'PLACED',
                    time: '2023-05-20T14:30:00Z'
                },
                {
                    id: 'ORD-001244',
                    customer: 'Jane Smith',
                    items: 'Pepperoni Pizza',
                    total: 14.99,
                    status: 'ACCEPTED',
                    time: '2023-05-20T13:15:00Z'
                },
                {
                    id: 'ORD-001243',
                    customer: 'Robert Johnson',
                    items: '2x Margherita Pizza',
                    total: 25.98,
                    status: 'PREPARING',
                    time: '2023-05-20T12:45:00Z'
                },
                {
                    id: 'ORD-001242',
                    customer: 'Emily Davis',
                    items: 'Pepperoni Pizza, Garlic Bread',
                    total: 20.98,
                    status: 'READY',
                    time: '2023-05-19T18:20:00Z'
                }
            ];
            
            renderOrders();
            renderRecentOrders();
        }

        function renderOrders() {
            const ordersList = document.getElementById('ordersList');
            const filter = document.getElementById('orderFilter').value;
            
            let filteredOrders = orders;
            if (filter !== 'all') {
                filteredOrders = orders.filter(order => order.status.toLowerCase() === filter);
            }
            
            ordersList.innerHTML = '';
            
            if (filteredOrders.length === 0) {
                ordersList.innerHTML = '<p style="text-align: center; padding: 20px;">No orders found</p>';
                return;
            }
            
            filteredOrders.forEach(order => {
                const statusClass = `status-${order.status.toLowerCase()}`;
                const statusText = order.status.replace(/_/g, ' ');
                
                const orderCard = document.createElement('div');
                orderCard.className = 'order-card';
                orderCard.innerHTML = `
                    <div class="order-header">
                        <div class="order-id">${order.id}</div>
                        <div class="order-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="order-details">
                        <div class="order-items">${order.items}</div>
                        <div class="order-customer">${order.customer}</div>
                        <div class="order-total">$${order.total.toFixed(2)}</div>
                    </div>
                    <div class="order-actions">
                        ${getOrderActions(order.status, order.id)}
                    </div>
                `;
                
                ordersList.appendChild(orderCard);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('.accept-order').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.getAttribute('data-id');
                    updateOrderStatus(orderId, 'ACCEPTED');
                });
            });
            
            document.querySelectorAll('.start-preparing').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.getAttribute('data-id');
                    updateOrderStatus(orderId, 'PREPARING');
                });
            });
            
            document.querySelectorAll('.mark-ready').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.getAttribute('data-id');
                    updateOrderStatus(orderId, 'READY');
                });
            });
            
            document.querySelectorAll('.cancel-order').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.getAttribute('data-id');
                    updateOrderStatus(orderId, 'CANCELLED');
                });
            });
        }

        function getOrderActions(status, orderId) {
            switch(status) {
                case 'PLACED':
                    return `
                        <button class="btn btn-success btn-sm accept-order" data-id="${orderId}">Accept</button>
                        <button class="btn btn-danger btn-sm cancel-order" data-id="${orderId}">Reject</button>
                    `;
                case 'ACCEPTED':
                    return `
                        <button class="btn btn-warning btn-sm start-preparing" data-id="${orderId}">Start Preparing</button>
                    `;
                case 'PREPARING':
                    return `
                        <button class="btn btn-success btn-sm mark-ready" data-id="${orderId}">Mark Ready</button>
                    `;
                case 'READY':
                    return `<span style="color: #666;">Waiting for delivery</span>`;
                default:
                    return '';
            }
        }

        function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                renderOrders();
                renderRecentOrders();
                showToast(`Order ${orderId} status updated to ${newStatus}`);
            }
        }

        function renderRecentOrders() {
            const recentOrdersList = document.getElementById('recentOrdersList');
            const recentOrders = orders.slice(0, 3); // Show only 3 most recent
            
            recentOrdersList.innerHTML = '';
            
            recentOrders.forEach(order => {
                const statusClass = `status-${order.status.toLowerCase()}`;
                const statusText = order.status.replace(/_/g, ' ');
                
                const orderCard = document.createElement('div');
                orderCard.className = 'order-card';
                orderCard.innerHTML = `
                    <div class="order-header">
                        <div class="order-id">${order.id}</div>
                        <div class="order-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="order-details">
                        <div class="order-items">${order.items}</div>
                        <div class="order-customer">${order.customer}</div>
                        <div class="order-total">$${order.total.toFixed(2)}</div>
                    </div>
                `;
                
                recentOrdersList.appendChild(orderCard);
            });
        }

        // Dashboard Functions
        function loadDashboardData() {
            // Update dashboard stats
            document.getElementById('todayOrders').textContent = '5';
            document.getElementById('todayRevenue').textContent = '$124.50';
            document.getElementById('totalMenuItems').textContent = menuItems.length;
            document.getElementById('averageRating').textContent = '4.7';
            
            // Load popular items
            loadPopularItems();
        }

        function loadPopularItems() {
            const popularItems = document.getElementById('popularItems');
            popularItems.innerHTML = '';
            
            // Show first 3 menu items as popular for demo
            const popular = menuItems.slice(0, 3);
            
            popular.forEach(item => {
                const menuItemCard = document.createElement('div');
                menuItemCard.className = 'menu-item-card';
                menuItemCard.innerHTML = `
                    <div class="menu-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="menu-item-content">
                        <div class="menu-item-header">
                            <div>
                                <div class="menu-item-name">${item.name}</div>
                                <div class="menu-item-price">$${item.price.toFixed(2)}</div>
                            </div>
                        </div>
                        <div class="menu-item-description">${item.description}</div>
                    </div>
                `;
                
                popularItems.appendChild(menuItemCard);
            });
        }

        // Tab Navigation
        function showTab(tabId) {
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            document.getElementById(`${tabId}Tab`).classList.add('active');
        }

        // Utility Functions
        function showToast(message, type = 'success') {
            toast.textContent = message;
            toast.className = 'toast';
            
            if (type === 'error') {
                toast.style.backgroundColor = '#ef476f';
            } else {
                toast.style.backgroundColor = '#292f36';
            }
            
            toast.classList.add('active');
            
            setTimeout(() => {
                toast.classList.remove('active');
            }, 3000);
        }
    </script>
</body>
</html>
